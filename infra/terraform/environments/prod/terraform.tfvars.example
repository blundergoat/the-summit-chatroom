# =============================================================================
# PROD ENVIRONMENT CONFIGURATION - Copy this to terraform.tfvars
# =============================================================================
#
# Required: vpc_id, public_subnet_ids, private_subnet_ids, hosted_zone_id
# Get these from blundergoat-platform:
#   cd /path/to/blundergoat-platform/infra/terraform/environments/prod
#   terraform output vpc_id
#   terraform output public_subnet_ids
#   terraform output private_subnet_ids
#   terraform output hosted_zone_id
#
# =============================================================================

# -----------------------------------------------------------------------------
# Core Settings
# -----------------------------------------------------------------------------

aws_region   = "us-east-1"
environment  = "prod"
project_name = "the-summit"

# -----------------------------------------------------------------------------
# Shared VPC (REQUIRED - from blundergoat-platform outputs)
# -----------------------------------------------------------------------------

# Get with: terraform output -raw vpc_id (in blundergoat-platform)
vpc_id = ""

# Get with: terraform output -json public_subnet_ids (in blundergoat-platform)
public_subnet_ids = []

# Get with: terraform output -json private_subnet_ids (in blundergoat-platform)
private_subnet_ids = []

# -----------------------------------------------------------------------------
# DNS Settings
# -----------------------------------------------------------------------------

domain_name      = "blundergoat.com"
subdomain        = "summit"

# Set to false to reuse an existing hosted zone (e.g., from blundergoat-platform)
create_hosted_zone = false

# Route53 hosted zone ID for blundergoat.com (from blundergoat-platform outputs)
hosted_zone_id = ""

# -----------------------------------------------------------------------------
# Agent Settings
# -----------------------------------------------------------------------------

# Bedrock model to use
model_id = "us.anthropic.claude-sonnet-4-20250514-v1:0"

# Docker image tag (use a unique tag when ECR is immutable)
agent_image_tag = "latest"

# ALB idle timeout (120s for streaming responses)
alb_idle_timeout_seconds = 120

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------

# API key for authenticating agent requests.
# Leave empty to auto-generate. Retrieve with:
#   aws secretsmanager get-secret-value --secret-id /the-summit/prod/api-key
api_key = ""

# Secrets Manager deletion window (0 for immediate in dev)
secrets_recovery_window_days = 0

# WAF rate limit (requests per 5 minutes per IP)
waf_rate_limit = 2000

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------

# Email for CloudWatch alarm notifications (confirm subscription via email)
alarm_email = ""

# Agent log retention (days)
agent_log_retention_days = 14

# -----------------------------------------------------------------------------
# CI/CD (GitHub Actions OIDC)
# -----------------------------------------------------------------------------

# GitHub repository for OIDC (format: "owner/repo")
# After terraform apply, copy github_actions_role_arn to GitHub secrets as AWS_ROLE_ARN
github_repository = ""
